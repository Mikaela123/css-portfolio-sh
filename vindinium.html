<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="navbar.css" type="text/css" />
	<link rel="stylesheet" type="text/css" href="vindinium.css">
	<title>Vindinium</title>
</head>
<body id="body">
        <ul id="navbar">
            <li><a href="index.html">Home</a></li>
            <li><a href="hardware.html">Hardware</a></li>
            <li><a href="info.html">Info Site</a></li>
            <li><a href="calc.html">Calculator</a></li>
            <li><a href="fortuneteller.html">Project Proposal</a></li>
            <li><a href="vindinium.html">Vindinium</a></li>
            <li><a href="modeling.html">Modeling</a></li>
        </ul>
    <h1> Vindinium</h1>
    <h2>
        Below is the code I made to function my bot.
    </h2>
    <pre>
    <code>
        var Bot = require('bot');
var PF = require('pathfinding');
//var bot = new Bot('k3rb0zg9', 'training', 'http://vindinium.org'); //Put your bot's code here and change training to Arena when you want to fight others.
var bot = new Bot('atganajg', 'arena', 'http://52.53.211.7:9000'); //Put your bot's code here and change training to Arena when you want to fight others.
var goDir;
var Promise = require('bluebird');
Bot.prototype.botBrain = function() {
    return new Promise(function(resolve, reject) {
        _this = bot;
         //////* Write your bot below Here *//////
        //////* Set `myDir` in the direction you want to go and then bot.goDir is set to myDir at the bottom *////////

        /*                                      *
         * This Code is global data!            *
         *                                      */

       
        var myDir;
        var myPos = [bot.yourBot.pos.x, bot.yourBot.pos.y];

        var enemyBots = [];
        if(bot.yourBot.id != 1) enemyBots.push(bot.bot1);
        if(bot.yourBot.id != 2) enemyBots.push(bot.bot2);
        if(bot.yourBot.id != 3) enemyBots.push(bot.bot3);
        if(bot.yourBot.id != 4) enemyBots.push(bot.bot4);
        
        var enemyMines = [];
        if(bot.yourBot.id != 1) enemyMines.concat(bot.bot1mines);
        if(bot.yourBot.id != 2) enemyMines.concat(bot.bot2mines);
        if(bot.yourBot.id != 3) enemyMines.concat(bot.bot3mines);
        if(bot.yourBot.id != 4) enemyMines.concat(bot.bot4mines);
        
       //this variable is for my bot to attack other enemy bots close to my bot
        var enemytoattack = enemyBots[0];
        for(i = 0; i < enemyBots.length ; i++){
            if(bot.findDistance(myPos, [enemytoattack.pos.x, enemytoattack.pos.y]) > bot.findDistance(myPos, [enemyBots[i].pos.x, enemyBots[i].pos.y]) ){
            closestBot = enemyBots[i];
            }
        }

        /*                                      *
         * This Code Decides WHAT to do         *
         *                                      */
        var task;
        
        if (bot.yourBot.life < 40) {
            task = "taverns";
        } 
        else if(bot.yourBot.life > enemytoattack.life) {
            task = "attack";
        }
        
        else {
            task = "freemines";
        }
        if (Bot.yourBot.life < 50) {
            task = "attackmines";
        } 
        
        /*                                      *
         * This Code Determines HOW to do it    *
         *                                      */

       //this if statment is for my bot to collect gold from the mines
        if(task === "freemines") {
            var closestMine = bot.freeMines[0];
            for(i = 0; i < bot.freeMines.length; i++) {
                if(bot.findDistance(myPos, closestMine) > bot.findDistance(myPos, bot.freeMines[i])) {
                    closestMine = bot.freeMines[i];
                }
            }
            console.log("Claiming a Free Mine!");
            myDir = bot.findPath(myPos, closestMine);
        }
        //this if statment is used for my bot to go to the closest tavern so I can gain health
        if (task === "taverns") {
            var closestTavern = bot.taverns[0];
            for(i = 0; i < bot.taverns.length; i++){
                if(bot.findDistance(myPos, closestTavern) > bot.findDistance(myPos, bot.taverns[i])) {
                    closestTavern = bot.taverns[i];
                }
            }
            console.log("Get Health!");
            myDir = bot.findPath(myPos, closestTavern);
        }
        //this if statment is used for my bot to attack other bots near me
         if(task === "attack") {
            console.log("Attack nearest Bot!");
            myDir = bot.findPath(myPos, [enemytoattack.pos.x, enemytoattack.pos.y]);
        }
          if (task === "attackmines") {
            var closestMines = bot.enemyMines[0];
            for(i = 0; i < bot.enemyMines.length; i++){
                if(bot.findDistance(myPos, closestMines) > bot.findDistance(myPos, bot.enemyMines[i])) {
                    closestMines = bot.enemyMines[i];
                }
            }
            console.log("Attack Enemy Mines!");
            myDir = bot.findPath(myPos, closestMines);
        }

    
        /*                                                                                                                              *
         * This Code Sets your direction based on myDir.  If you are trying to go to a place that you can't reach, you move randomly.   *
         * Otherwise you move in the direction set by your code.  Feel free to change this code if you want.                            */
        if(myDir === "none") {
            console.log("Going Random!");
            var rand = Math.floor(Math.random() * 4);
            var dirs = ["north", "south", "east", "west"];
            bot.goDir = dirs[rand];
        } else {
            bot.goDir = myDir;
        }
        
        ///////////* DON'T REMOVE ANTYTHING BELOW THIS LINE *//////////////
        resolve();
    });
}
bot.runGame(); ,8
    </pre>
    </code>
</body>
</html>